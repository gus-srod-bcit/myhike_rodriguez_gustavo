import{c as k,g,o as q,d as h,a as c,b as B,e as p,u as y,f as S,h as w,i as m,s as u}from"./loginSignup-Dm72vohq.js";function x(){const t=document.getElementById("name-goes-here");q(async e=>{if(!e){location.href="index.html";return}const o=h(c,"users",e.uid),i=await p(o),r=i.exists()?i.data():{},s=r.name||e.displayName||e.email;t&&(t.textContent=`${s}!`);const a=r.bookmarks||[];await f(e.uid,a)})}function v(t){const e=h(c,"quotes",t);B(e,o=>{o.exists()?document.getElementById("quote-goes-here").innerHTML=o.data().quote:console.log("No such document!")},o=>{console.error("Error listening to document: ",o)})}function E(){const t=k(c,"hikes");console.log("Adding sample hike data..."),m(t,{code:"BBY01",name:"Burnaby Lake Park Trail",city:"Burnaby",level:"easy",details:"A lovely place for a lunch walk.",length:10,hike_time:60,lat:49.2467097082573,lng:-122.9187029619698,last_updated:u()}),m(t,{code:"AM01",name:"Buntzen Lake Trail",city:"Anmore",level:"moderate",details:"Close to town, and relaxing.",length:10.5,hike_time:80,lat:49.3399431028579,lng:-122.85908496766939,last_updated:u()}),m(t,{code:"NV01",name:"Mount Seymour Trail",city:"North Vancouver",level:"hard",details:"Amazing ski slope views.",length:8.2,hike_time:120,lat:49.38847101455571,lng:-122.94092543551031,last_updated:u()})}async function T(){const t=k(c,"hikes");(await g(t)).empty?(console.log("Hikes collection is empty. Seeding data..."),E()):console.log("Hikes collection already contains data. Skipping seed.")}async function f(t,e){let o=document.getElementById("hikeCardTemplate");const i=k(c,"hikes");try{(await g(i)).forEach(s=>{let a=o.content.cloneNode(!0);const n=s.data();a.querySelector(".card-title").textContent=n.name,a.querySelector(".card-text").textContent=n.details||`Located in ${n.city}.`,a.querySelector(".card-length").textContent=n.length,a.querySelector(".card-image").src=`./images/${n.code}.jpg`,a.querySelector(".read-more").href=`eachHike.html?docID=${s.id}`;const l=s.id,d=a.querySelector("i.material-icons");d.id="save-"+l;const b=e.includes(l);d.innerText=b?"bookmark":"bookmark_border",d.onclick=()=>C(t,l),document.getElementById("hikes-go-here").appendChild(a)})}catch(r){console.error("Error getting documents: ",r)}}async function C(t,e){const o=h(c,"users",t),s=((await p(o)).data()||{}).bookmarks||[],a="save-"+e,n=document.getElementById(a),l=s.includes(e);try{l?(await y(o,{bookmarks:S(e)}),n.innerText="bookmark_border"):(await y(o,{bookmarks:w(e)}),n.innerText="bookmark")}catch(d){console.error("Error toggling bookmark:",d)}}f();T();x();v("tuesday");
