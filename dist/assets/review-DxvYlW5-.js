import{d as m,a as d,e as h,j as g,i as k,c as v,s as f}from"./loginSignup-Dm72vohq.js";var i=localStorage.getItem("hikeDocID");w(i);async function w(e){try{const t=m(d,"hikes",e),o=await h(t);if(o.exists()){const n=o.data().name;document.getElementById("hikeName").textContent=n}else console.log("No such hike found!")}catch(t){console.error("Error getting hike document:",t)}}document.addEventListener("DOMContentLoaded",()=>{u()});let s=0;function u(){const e=document.querySelectorAll(".star");e.forEach((t,o)=>{t.addEventListener("click",()=>{e.forEach((n,c)=>{n.textContent=c<=o?"star":"star_outline"}),s=o+1,console.log("Current rating:",s)})})}async function D(){console.log("Inside write review");const e=document.getElementById("title").value,t=document.getElementById("level").value,o=document.getElementById("season").value,n=document.getElementById("description").value,c=document.querySelector('input[name="flooded"]:checked')?.value,l=document.querySelector('input[name="scrambled"]:checked')?.value;if(console.log("inside write review, rating =",s),console.log("hikeDocID =",i),console.log("Collected review data:"),console.log(e,t,o,n,c,l),!e||!n){alert("Please complete all required fields.");return}const a=g.currentUser;if(a)try{const r=a.uid;await k(v(d,"reviews"),{hikeDocID:i,userID:r,title:e,level:t,season:o,description:n,flooded:c,scrambled:l,rating:s,timestamp:f()}),console.log("Review successfully written!"),window.location.href=`eachHike.html?docID=${i}`,window.location.href="thanks.html"}catch(r){console.error("Error adding review:",r)}else console.log("No user is signed in")}document.addEventListener("DOMContentLoaded",()=>{u(),document.getElementById("submitBtn").addEventListener("click",D)});
